(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a(139)},112:function(e,t,a){},113:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),s=a.n(o),l=(a(112),a(113),a(40)),c=a(32),i=a(17),u=a(18),m=a(20),h=a(19),d=a(21),b=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"logOut",value:function(e){e.preventDefault(),localStorage.removeItem("usertoken"),this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement(l.b,{to:"/login",className:"nav-link"},"Login"))),t=r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"",onClick:this.logOut.bind(this),className:"nav-link"},"Logout")));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row text-center"},r.a.createElement(l.b,{to:"/",className:"nav-link"},"Home"),localStorage.usertoken?t:e))}}]),t}(n.Component),p=Object(c.e)(b),g=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("p",null,"Please log in to use this website!")))}}]),t}(n.Component),f=a(33),v=a(27),E=a(51),N=a.n(E),O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={username:"",password:"",error:""},e.onChange=e.onChange.bind(Object(v.a)(e)),e.onSubmit=e.onSubmit.bind(Object(v.a)(e)),e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return N.a.post("http://127.0.0.1:5000/login",{username:e.username,password:e.password}).then(function(e){return localStorage.setItem("usertoken",e.data),e.data}).catch(function(e){console.log(e)})}({username:this.state.username,password:this.state.password}).then(function(e){e.error?t.setState({error:e.error}):t.props.history.push("/dashboard")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"text-center"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"test",className:"form-control",name:"username",placeholder:"Enter email",value:this.state.username,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block"},"Sign in"),r.a.createElement("h1",{style:{color:"red"}},this.state.error)))))}}]),t}(n.Component),S=a(106),j=a(87),y=(a(138),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).toggle=function(){e.setState({modal:!e.state.modal})},e.state={title:"",author:"",ISBN:"",published_date:new Date},e.onChange=e.onChange.bind(Object(v.a)(e)),e.onSubmit=e.onSubmit.bind(Object(v.a)(e)),e.handleChange=e.handleChange.bind(Object(v.a)(e)),e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleChange",value:function(e){this.setState({published_date:e.toDateString()})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.published_date.getFullYear()+":"+(this.state.published_date.getMonth()+1)+":"+this.state.published_date.getDate(),a={title:this.state.title,author:this.state.author,ISBN:this.state.ISBN,published_date:t},n=JSON.stringify(a);console.log(n),N.a.post("http://127.0.0.1:5000/books",n,{headers:{"Content-Type":"application/json"}}).then(function(e){return alert("Success!")}).then(function(e){return window.location.reload()})}},{key:"render",value:function(){return r.a.createElement("div",{class:"container"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",onChange:this.onChange,class:"form-control",name:"title",placeholder:"Title",autoFocus:!0,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Author"),r.a.createElement("input",{type:"text",onChange:this.onChange,class:"form-control",name:"author",placeholder:"Author",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ISBN"},"ISBN"),r.a.createElement("input",{type:"text",onChange:this.onChange,class:"form-control",name:"ISBN",placeholder:"ISBN",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Published Date"),r.a.createElement("br",null),r.a.createElement(j.a,{selected:this.state.published_date,onChange:this.handleChange,required:!0})),r.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Submit")))}}]),t}(n.Component)),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={books:[]},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchBooks()}},{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){}},{key:"fetchBooks",value:function(){var e=this;fetch("http://127.0.0.1:5000/books").then(function(e){return e.json()}).then(function(t){return e.setState({books:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(y,null)),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(S.a,{data:this.state.books,columns:[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Author",accessor:"author"},{Header:"Published Date",accessor:"published_date"},{Header:"ISBN",accessor:"ISBN"}],defaultPageSize:10})))}}]),t}(n.Component);var w=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("h1",{className:"text-center"},"Library Management System"),r.a.createElement(p,null),r.a.createElement("hr",{className:"w-50"})),r.a.createElement(c.a,{exact:!0,path:"/",component:g}),r.a.createElement(c.a,{exact:!0,path:"/login",component:O}),r.a.createElement(c.a,{exact:!0,path:"/dashboard",component:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[107,1,2]]]);
//# sourceMappingURL=main.7f01110a.chunk.js.map