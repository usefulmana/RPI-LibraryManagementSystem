{"ast":null,"code":"var _jsxFileName = \"/home/alexnguyen/Programming/piot-a2-lms/webapp/front-end/src/components/AddBookForm.jsx\";\nimport React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport axios from 'axios';\nexport default class AddBookForm extends Component {\n  constructor() {\n    super();\n\n    this.toggle = () => {\n      // Clear errors\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.state = {\n      title: '',\n      author: '',\n      ISBN: '',\n      published_date: new Date()\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleChange(date) {\n    this.setState({\n      published_date: date.toDateString()\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    let formatted_date = this.state.published_date.getFullYear() + \":\" + (this.state.published_date.getMonth() + 1) + ':' + this.state.published_date.getDate();\n    const book = {\n      title: this.state.title,\n      author: this.state.author,\n      ISBN: this.state.ISBN,\n      published_date: formatted_date\n    };\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const body = JSON.stringify(book);\n    console.log(body);\n    axios.post('http://127.0.0.1:5000/books', body, config).then(res => alert(\"Success!\")).then(res => window.location.reload());\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      class: \"form-control\",\n      name: \"title\",\n      placeholder: \"Title\",\n      autoFocus: true,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      class: \"form-control\",\n      name: \"author\",\n      placeholder: \"Author\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"ISBN\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"ISBN\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      class: \"form-control\",\n      name: \"ISBN\",\n      placeholder: \"ISBN\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Published Date\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(DatePicker, {\n      selected: this.state.published_date,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}","map":{"version":3,"sources":["/home/alexnguyen/Programming/piot-a2-lms/webapp/front-end/src/components/AddBookForm.jsx"],"names":["React","Component","DatePicker","axios","AddBookForm","constructor","toggle","setState","modal","state","title","author","ISBN","published_date","Date","onChange","bind","onSubmit","handleChange","e","target","name","value","date","toDateString","preventDefault","formatted_date","getFullYear","getMonth","getDate","book","config","headers","body","JSON","stringify","console","log","post","then","res","alert","window","location","reload","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport axios from 'axios'\n\nexport default class AddBookForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      author: '',\n      ISBN: '',\n      published_date: new Date()\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  toggle = () => {\n    // Clear errors\n    this.setState({\n      modal: !this.state.modal\n    });\n  };\n    handleChange(date) {\n        this.setState({\n            published_date: date.toDateString()\n        });\n    }\n  onSubmit(e) {\n    e.preventDefault();\n    let formatted_date = this.state.published_date.getFullYear() + \":\" + (this.state.published_date.getMonth() + 1) +\n          ':' +\n          this.state.published_date.getDate();\n    const book = {\n        title: this.state.title,\n        author: this.state.author,\n        ISBN: this.state.ISBN,\n        published_date: formatted_date\n    }\n    \n    const config = {\n        headers:{\n            'Content-Type': 'application/json'\n        }\n    }\n    const body = JSON.stringify(book)\n    console.log(body)\n    axios.post('http://127.0.0.1:5000/books',body, config)\n    .then(res => alert(\"Success!\")).then(res=> window.location.reload())\n  }\n\n  render() {\n    return (\n      <div class=\"container\">\n        <form onSubmit={this.onSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Title</label>\n            <input\n              type=\"text\"\n              onChange={this.onChange}\n              class=\"form-control\"\n              name=\"title\"\n              placeholder=\"Title\"\n              autoFocus\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"author\">Author</label>\n            <input\n              type=\"text\"\n              onChange={this.onChange}\n              class=\"form-control\"\n              name=\"author\"\n              placeholder=\"Author\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"ISBN\">ISBN</label>\n            <input\n              type=\"text\"\n              onChange={this.onChange}\n              class=\"form-control\"\n              name=\"ISBN\"\n              placeholder=\"ISBN\"\n              required\n            />\n          </div>\n          <div className='form-group'>\n            <label htmlFor=\"\">Published Date</label>\n            <br/>\n            <DatePicker\n                selected={this.state.published_date}\n                onChange={this.handleChange}\n                required\n            />\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\">\n            Submit\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}